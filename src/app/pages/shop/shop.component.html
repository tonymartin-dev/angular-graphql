<div class="search-panel-contain">
          
  <div class="search-container">
    <div class="search-input">
      <mat-form-field>
        <input matInput placeholder="Get products by id" [(ngModel)]="searchId" />
      </mat-form-field>
      <button (click)="getProductById(searchId)" mat-button > <i class="material-icons">search</i> </button>
    </div>  
    <button (click)="getAllProducts()" color="primary" mat-raised-button>Get all Products</button>
    <button (click)="openNewProductModal()" color="primary" mat-raised-button>Create New Product</button>
  </div>

  <div class="result-contanier">
    <ng-container *ngIf="productsList" >
      <mat-card class="product-card" *ngFor="let product of productsList">
        
        <div *ngIf="product.edit; then editTpl else tpl"></div>
        
        <ng-template #editTpl>
          <mat-card-header>
            <mat-card-title>
              <mat-form-field class="full-width">
                <input matInput [(ngModel)]="product.name">
              </mat-form-field>
            </mat-card-title>
            <mat-card-subtitle>
              <mat-form-field class="full-width">
                  <input matInput [(ngModel)]="product.category">
              </mat-form-field>
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
              <mat-form-field class="full-width">
                <textarea
                  matInput
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="5"
                  [(ngModel)]="product.description">
                </textarea>
              </mat-form-field>
          </mat-card-content>
        </ng-template>

        <ng-template #tpl>
          <mat-card-header>
            <mat-card-title>{{product.name}}</mat-card-title>
            <mat-card-subtitle>{{product.category}}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>{{product.description}}</p>
          </mat-card-content>
        </ng-template>

        <mat-card-footer class="card-footer">
          <span class="right">{{ product.price | currency }}</span>
          <mat-card-actions class="card-actions">
            <button *ngIf="!product.edit" (click)="openEditMode(product)" mat-button>
              <i class="material-icons">edit</i> Edit Product
            </button>
            <button *ngIf="!product.edit" (click)="deleteProduct(product)" mat-button> 
              <i class="material-icons">delete</i> Delete Product
            </button>
            <button *ngIf="product.edit" (click)="updateProduct(product)" mat-button>
              <i class="material-icons">save</i> Save Changes
            </button>
            <button *ngIf="product.edit" (click)="cancelProductChanges(product)" mat-button>
              <i class="material-icons">cancel</i> Cancel Changes
            </button>
          </mat-card-actions>
        </mat-card-footer>

      </mat-card>
    </ng-container>
  </div>
  
</div>